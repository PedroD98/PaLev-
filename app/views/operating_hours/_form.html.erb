<h2>Horário de funcionamento:</h2>

<%= form_with model: @restaurant, url: restaurant_operating_hours_path do |f| %>
  <div>
    <span style="padding-left: 100px;"> Abertura </span>
    <span style="padding-left: 40px;"> Fechamento </span>
  </div>
  <% OperatingHour.day_of_weeks.keys.each_with_index do |day, index| %>
   <div id=<%= "#{I18n.t day}" %>>
      <%= f.fields_for :operating_hours, @restaurant.operating_hours.build(day_of_week: day) do |oh_fields| %>
        <%= oh_fields.label I18n.t day %>
        <%= oh_fields.hidden_field :day_of_week, value: day %>
        <%= oh_fields.time_field :open_time %>
        <%= oh_fields.time_field :close_time %>
        <%= oh_fields.check_box :closed %>
        <%= oh_fields.label I18n.t :closed %>
      <% end %>
    </div>
  <% end %>
  
  <br />

  <div>
    <%= f.submit 'Registrar', class: 'bg-gray-100 px-4 py-2 rounded hover:bg-gray-200' %>
  </div>
<% end %>


<h2>Horário de funcionamento:</h2>

<%= form_with url: restaurant_operating_hours_path(@restaurant.id) do %>
  <div>
    <span style="padding-left: 100px;"> Abertura </span>
    <span style="padding-left: 40px;"> Fechamento </span>
  </div>
  
  <% OperatingHour.day_of_weeks.keys.each_with_index do |day, index| %>
    <fieldset>
      <legend><%= I18n.t day %></legend>
      <%= hidden_field_tag "operating_hours[#{index}][day_of_week]", day %>

      <div>
        <%= label_tag "operating_hours[#{index}][open_time]" %>
        <%= time_field_tag "operating_hours[#{index}][open_time]" %>
      </div>

      <div>
        <%= label_tag "operating_hours[#{index}][close_time]" %>
        <%= time_field_tag "operating_hours[#{index}][close_time]" %>
      </div>

      <div>
        <%= label_tag "operating_hours[#{index}][closed]", "Fechado?" %>
        <%= check_box_tag "operating_hours[#{index}][closed]", '1', false %>
      </div>
    </fieldset>
  <% end %>

  <br />

  <div>
    <%= submit_tag 'Registrar', class: 'bg-gray-100 px-4 py-2 rounded hover:bg-gray-200' %>
  </div>
<% end %>